<?xml version="1.0" encoding="UTF-8"?>
<!-- Relatório configurado para gerar OS filtradas por data -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports
              http://jasperreports.sourceforge.net/xsd/jasperreport.xsd"
              name="Waves_Landscape"
              pageWidth="842"
              pageHeight="595"
              orientation="Landscape"
              columnWidth="782"
              leftMargin="30"
              rightMargin="30"
              topMargin="20"
              bottomMargin="20"
              uuid="12345678-abcd-ef00-1234-56789abcdef0">

    <!-- ========================== -->
    <!-- CONSULTA SQL COM FILTRO -->
    <!-- ========================== -->
    <queryString language="SQL"><![CDATA[
        SELECT
            os.idOs,
            os.data_os,
            os.equipamento,
            os.defeito,
            os.servico,
            os.tecnico,
            os.tipo,
            os.status,
            os.valor,
            clientes.idCli,
            clientes.nome
        FROM projetoos.os
        INNER JOIN projetoos.clientes
            ON os.Idcli = clientes.idCli
        WHERE os.data_os BETWEEN $P{dataInicio} AND $P{dataFim}
        ORDER BY os.data_os ASC
    ]]></queryString>

    <!-- ========================== -->
    <!-- PARÂMETROS DO RELATÓRIO -->
    <!-- ========================== -->
    <parameter name="dataInicio" class="java.sql.Date"/>
    <parameter name="dataFim" class="java.sql.Date"/>

    <!-- ========================== -->
    <!-- CAMPOS DO RELATÓRIO -->
    <!-- ========================== -->
    <field name="idOs" class="java.lang.Integer"/>
    <field name="data_os" class="java.sql.Date"/>
    <field name="equipamento" class="java.lang.String"/>
    <field name="defeito" class="java.lang.String"/>
    <field name="servico" class="java.lang.String"/>
    <field name="tecnico" class="java.lang.String"/>
    <field name="tipo" class="java.lang.String"/>
    <field name="status" class="java.lang.String"/>
    <field name="valor" class="java.lang.Double"/>
    <field name="idCli" class="java.lang.Integer"/>
    <field name="nome" class="java.lang.String"/>

    <!-- ========================== -->
    <!-- CABEÇALHO (TÍTULO) -->
    <!-- ========================== -->
    <title>
        <band height="60">
            <textField>
                <reportElement x="0" y="10" width="782" height="40" uuid="title-uuid"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="20" isBold="true"/>
                </textElement>
                <textFieldExpression><![CDATA["RELATÓRIO DE ORDENS DE SERVIÇO"]]></textFieldExpression>
            </textField>
        </band>
    </title>

    <!-- ========================== -->
    <!-- CABEÇALHO DAS COLUNAS -->
    <!-- ========================== -->
    <columnHeader>
        <band height="25">
            <staticText>
                <reportElement x="0" y="0" width="60" height="25"/>
                <text><![CDATA[N° OS]]></text>
            </staticText>
            <staticText>
                <reportElement x="60" y="0" width="80" height="25"/>
                <text><![CDATA[Data]]></text>
            </staticText>
            <staticText>
                <reportElement x="140" y="0" width="100" height="25"/>
                <text><![CDATA[Equipamento]]></text>
            </staticText>
            <staticText>
                <reportElement x="240" y="0" width="120" height="25"/>
                <text><![CDATA[Defeito]]></text>
            </staticText>
            <staticText>
                <reportElement x="360" y="0" width="120" height="25"/>
                <text><![CDATA[Serviço]]></text>
            </staticText>
            <staticText>
                <reportElement x="480" y="0" width="80" height="25"/>
                <text><![CDATA[Técnico]]></text>
            </staticText>
            <staticText>
                <reportElement x="560" y="0" width="80" height="25"/>
                <text><![CDATA[Status]]></text>
            </staticText>
            <staticText>
                <reportElement x="640" y="0" width="80" height="25"/>
                <text><![CDATA[Valor]]></text>
            </staticText>
        </band>
    </columnHeader>

    <!-- ========================== -->
    <!-- DETALHE (DADOS DAS OS) -->
    <!-- ========================== -->
    <detail>
        <band height="25">
            <textField>
                <reportElement x="0" y="0" width="60" height="25"/>
                <textFieldExpression><![CDATA[$F{idOs}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="60" y="0" width="80" height="25"/>
                <textFieldExpression><![CDATA[$F{data_os}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="140" y="0" width="100" height="25"/>
                <textFieldExpression><![CDATA[$F{equipamento}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="240" y="0" width="120" height="25"/>
                <textFieldExpression><![CDATA[$F{defeito}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="360" y="0" width="120" height="25"/>
                <textFieldExpression><![CDATA[$F{servico}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="480" y="0" width="80" height="25"/>
                <textFieldExpression><![CDATA[$F{tecnico}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="560" y="0" width="80" height="25"/>
                <textFieldExpression><![CDATA[$F{status}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="640" y="0" width="80" height="25"/>
                <textFieldExpression><![CDATA[$F{valor}]]></textFieldExpression>
            </textField>
        </band>
    </detail>
</jasperReport>
